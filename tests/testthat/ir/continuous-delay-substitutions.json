{"version":"0.1.2","config":{"base":"odin"},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"discrete":false,"has_array":true,"has_output":true,"has_user":true,"has_delay":true,"has_interpolate":false,"has_stochastic":false,"initial_time_dependent":true},"data":{"elements":[{"name":"a","location":"transient","storage_type":"double","rank":0,"dimnames":null},{"name":"delay_array_y2","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_y2","dim":null,"mult":null}},{"name":"delay_index_a","location":"internal","storage_type":"int","rank":1,"dimnames":{"length":"dim_delay_a","dim":null,"mult":null}},{"name":"delay_state_a","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_delay_a","dim":null,"mult":null}},{"name":"dim_delay_a","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_r","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_y","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_y0","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_y2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"initial_t","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_y","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_y","dim":null,"mult":null}},{"name":"r","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_r","dim":null,"mult":null}},{"name":"total2","location":"transient","storage_type":"double","rank":0,"dimnames":null},{"name":"y","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_y","dim":null,"mult":null}},{"name":"y0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_y0","dim":null,"mult":null}},{"name":"y2","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_y2","dim":null,"mult":null}}],"variable":{"length":"dim_y","contents":[{"name":"y","offset":0,"initial":"initial_y"}]},"output":{"length":1,"contents":[{"name":"a","offset":0}]}},"equations":[{"name":"a","type":"delay_continuous","source":[17],"depends":{"functions":[],"variables":["dim_delay_a","delay_array_y2"]},"lhs":"a","rhs":{"value":"total2"},"delay":{"state":"delay_state_a","index":"delay_index_a","substitutions":[{"from":"y2","to":"delay_array_y2"}],"variables":{"length":"dim_delay_a","contents":[{"name":"y","offset":0}]},"equations":["y2","total2"],"default":null,"time":2.5}},{"name":"alloc_initial_y","type":"alloc","source":[9],"depends":{"functions":[],"variables":["dim_y"]},"lhs":"initial_y"},{"name":"alloc_r","type":"alloc","source":[10],"depends":{"functions":[],"variables":["dim_r"]},"lhs":"r"},{"name":"alloc_y2","type":"alloc","source":[14],"depends":{"functions":[],"variables":["dim_y2"]},"lhs":"y2"},{"name":"delay_array_y2","type":"alloc","source":[],"depends":{"functions":[],"variables":["dim_y2"]},"lhs":"delay_array_y2"},{"name":"delay_index_a","type":"delay_index","source":[17],"depends":{"functions":[],"variables":["dim_delay_a"]},"lhs":"delay_index_a","delay":"a"},{"name":"deriv_y","type":"expression_array","source":[2],"depends":{"functions":["length","*","["],"variables":["dim_y","r","i","y"]},"lhs":"y","rhs":[{"index":[{"value":[":",1,["length","y"]],"is_range":true,"index":"i"}],"value":["*",["[","r","i"],["[","y","i"]]}]},{"name":"dim_delay_a","type":"expression_scalar","source":[17],"depends":{"functions":[],"variables":["dim_y"]},"lhs":"dim_delay_a","rhs":{"value":"dim_y"}},{"name":"dim_r","type":"expression_scalar","source":[10],"depends":{"functions":["length"],"variables":["dim_y0"]},"lhs":"dim_r","rhs":{"value":["length","y0"]}},{"name":"dim_y","type":"expression_scalar","source":[9],"depends":{"functions":["length"],"variables":["dim_y0"]},"lhs":"dim_y","rhs":{"value":["length","y0"]}},{"name":"dim_y2","type":"expression_scalar","source":[14],"depends":{"functions":["length"],"variables":["dim_y0"]},"lhs":"dim_y2","rhs":{"value":["length","y0"]}},{"name":"initial_y","type":"expression_array","source":[3],"depends":{"functions":["length","["],"variables":["dim_y","y0","i","alloc_initial_y"]},"lhs":"initial_y","rhs":[{"index":[{"value":[":",1,["length","y"]],"is_range":true,"index":"i"}],"value":["[","y0","i"]}]},{"name":"output_a","type":"copy","source":[20],"depends":{"functions":[],"variables":["a"]},"lhs":"a"},{"name":"r","type":"user","source":[4],"depends":{"functions":["length"],"variables":["dim_r","alloc_r"]},"lhs":"r","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"total2","type":"expression_scalar","source":[13],"depends":{"functions":["sum"],"variables":["y2"]},"lhs":"total2","rhs":{"value":["sum","y2"]}},{"name":"y0","type":"user","source":[7],"depends":null,"lhs":"y0","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"y2","type":"expression_array","source":[12],"depends":{"functions":["length","*","["],"variables":["dim_y2","y","i","alloc_y2"]},"lhs":"y2","rhs":[{"index":[{"value":[":",1,["length","y2"]],"is_range":true,"index":"i"}],"value":["*",["[","y","i"],["[","y","i"]]}]}],"components":{"create":{"variables":[],"equations":[]},"user":{"variables":[],"equations":["y0","dim_r","alloc_r","dim_y","alloc_initial_y","dim_delay_a","delay_index_a","dim_y2","alloc_y2","delay_array_y2","initial_y","r"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["y"],"equations":["deriv_y"]},"output":{"variables":[],"equations":["a","output_a"]}},"user":[{"name":"r","has_default":false},{"name":"y0","has_default":false}],"interpolate":{"min":[],"max":[],"critical":[]},"source":["## Exponential growth/decay of 'y'","deriv(y[]) <- r[i] * y[i]","initial(y[]) <- y0[i]","r[] <- user()","","## Drive the system off of given 'y0'","y0[] <- user()","dim(y0) <- user()","dim(y) <- length(y0)","dim(r) <- length(y0)","","y2[] <- y[i] * y[i]","total2 <- sum(y2)","dim(y2) <- length(y0)","","## Delay the total of all variables","a <- delay(total2, 2.5)","","## And output that for checking","output(a) <- a"]}
