{"version":"0.1.2","config":{"base":"odin"},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"discrete":false,"has_array":true,"has_output":false,"has_user":true,"has_delay":false,"has_interpolate":false,"has_stochastic":false,"initial_time_dependent":false},"data":{"elements":[{"name":"a","location":"internal","storage_type":"double","rank":3,"dimnames":{"length":"dim_a","dim":["dim_a_1","dim_a_2","dim_a_3"],"mult":["","dim_a_1","dim_a_12"]}},{"name":"dim_a","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_a_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_a_12","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_a_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_a_3","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m12","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m12_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m12_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m13","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m13_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m13_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m23","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m23_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m23_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm12","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm12_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm12_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm13","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm13_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm13_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm23","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm23_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mm23_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_v1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_v2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_v3","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_vv1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_vv2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_vv3","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"initial_y","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"m12","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_m12","dim":["dim_m12_1","dim_m12_2"],"mult":["","dim_m12_1"]}},{"name":"m13","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_m13","dim":["dim_m13_1","dim_m13_2"],"mult":["","dim_m13_1"]}},{"name":"m23","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_m23","dim":["dim_m23_1","dim_m23_2"],"mult":["","dim_m23_1"]}},{"name":"mm12","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_mm12","dim":["dim_mm12_1","dim_mm12_2"],"mult":["","dim_mm12_1"]}},{"name":"mm13","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_mm13","dim":["dim_mm13_1","dim_mm13_2"],"mult":["","dim_mm13_1"]}},{"name":"mm23","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_mm23","dim":["dim_mm23_1","dim_mm23_2"],"mult":["","dim_mm23_1"]}},{"name":"tot1","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"tot2","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"v1","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_v1","dim":null,"mult":null}},{"name":"v2","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_v2","dim":null,"mult":null}},{"name":"v3","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_v3","dim":null,"mult":null}},{"name":"vv1","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vv1","dim":null,"mult":null}},{"name":"vv2","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vv2","dim":null,"mult":null}},{"name":"vv3","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vv3","dim":null,"mult":null}},{"name":"y","location":"variable","storage_type":"double","rank":0,"dimnames":null}],"variable":{"length":1,"contents":[{"name":"y","offset":0,"initial":"initial_y"}]},"output":{"length":0,"contents":[]}},"equations":[{"name":"a","type":"user","source":[4],"depends":null,"lhs":"a","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"alloc_m12","type":"alloc","source":[12],"depends":{"functions":[],"variables":["dim_m12"]},"lhs":"m12"},{"name":"alloc_m13","type":"alloc","source":[13],"depends":{"functions":[],"variables":["dim_m13"]},"lhs":"m13"},{"name":"alloc_m23","type":"alloc","source":[14],"depends":{"functions":[],"variables":["dim_m23"]},"lhs":"m23"},{"name":"alloc_mm12","type":"alloc","source":[28],"depends":{"functions":[],"variables":["dim_mm12"]},"lhs":"mm12"},{"name":"alloc_mm13","type":"alloc","source":[29],"depends":{"functions":[],"variables":["dim_mm13"]},"lhs":"mm13"},{"name":"alloc_mm23","type":"alloc","source":[30],"depends":{"functions":[],"variables":["dim_mm23"]},"lhs":"mm23"},{"name":"alloc_v1","type":"alloc","source":[20],"depends":{"functions":[],"variables":["dim_v1"]},"lhs":"v1"},{"name":"alloc_v2","type":"alloc","source":[21],"depends":{"functions":[],"variables":["dim_v2"]},"lhs":"v2"},{"name":"alloc_v3","type":"alloc","source":[22],"depends":{"functions":[],"variables":["dim_v3"]},"lhs":"v3"},{"name":"alloc_vv1","type":"alloc","source":[35],"depends":{"functions":[],"variables":["dim_vv1"]},"lhs":"vv1"},{"name":"alloc_vv2","type":"alloc","source":[36],"depends":{"functions":[],"variables":["dim_vv2"]},"lhs":"vv2"},{"name":"alloc_vv3","type":"alloc","source":[37],"depends":{"functions":[],"variables":["dim_vv3"]},"lhs":"vv3"},{"name":"deriv_y","type":"expression_scalar","source":[1],"depends":null,"lhs":"y","rhs":{"value":0}},{"name":"dim_a_12","type":"expression_scalar","source":[5],"depends":{"functions":[],"variables":["dim_a_1","dim_a_2"]},"lhs":"dim_a_12","rhs":{"value":["*","dim_a_1","dim_a_2"]}},{"name":"dim_m12","type":"expression_scalar","source":[12],"depends":{"functions":[],"variables":["dim_m12_1","dim_m12_2"]},"lhs":"dim_m12","rhs":{"value":["*","dim_m12_1","dim_m12_2"]}},{"name":"dim_m12_1","type":"expression_scalar","source":[12],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_m12_1","rhs":{"value":["dim","a",1]}},{"name":"dim_m12_2","type":"expression_scalar","source":[12],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_m12_2","rhs":{"value":["dim","a",2]}},{"name":"dim_m13","type":"expression_scalar","source":[13],"depends":{"functions":[],"variables":["dim_m13_1","dim_m13_2"]},"lhs":"dim_m13","rhs":{"value":["*","dim_m13_1","dim_m13_2"]}},{"name":"dim_m13_1","type":"expression_scalar","source":[13],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_m13_1","rhs":{"value":["dim","a",1]}},{"name":"dim_m13_2","type":"expression_scalar","source":[13],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_m13_2","rhs":{"value":["dim","a",3]}},{"name":"dim_m23","type":"expression_scalar","source":[14],"depends":{"functions":[],"variables":["dim_m23_1","dim_m23_2"]},"lhs":"dim_m23","rhs":{"value":["*","dim_m23_1","dim_m23_2"]}},{"name":"dim_m23_1","type":"expression_scalar","source":[14],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_m23_1","rhs":{"value":["dim","a",2]}},{"name":"dim_m23_2","type":"expression_scalar","source":[14],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_m23_2","rhs":{"value":["dim","a",3]}},{"name":"dim_mm12","type":"expression_scalar","source":[28],"depends":{"functions":[],"variables":["dim_mm12_1","dim_mm12_2"]},"lhs":"dim_mm12","rhs":{"value":["*","dim_mm12_1","dim_mm12_2"]}},{"name":"dim_mm12_1","type":"expression_scalar","source":[28],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_mm12_1","rhs":{"value":["dim","a",1]}},{"name":"dim_mm12_2","type":"expression_scalar","source":[28],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_mm12_2","rhs":{"value":["dim","a",2]}},{"name":"dim_mm13","type":"expression_scalar","source":[29],"depends":{"functions":[],"variables":["dim_mm13_1","dim_mm13_2"]},"lhs":"dim_mm13","rhs":{"value":["*","dim_mm13_1","dim_mm13_2"]}},{"name":"dim_mm13_1","type":"expression_scalar","source":[29],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_mm13_1","rhs":{"value":["dim","a",1]}},{"name":"dim_mm13_2","type":"expression_scalar","source":[29],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_mm13_2","rhs":{"value":["dim","a",3]}},{"name":"dim_mm23","type":"expression_scalar","source":[30],"depends":{"functions":[],"variables":["dim_mm23_1","dim_mm23_2"]},"lhs":"dim_mm23","rhs":{"value":["*","dim_mm23_1","dim_mm23_2"]}},{"name":"dim_mm23_1","type":"expression_scalar","source":[30],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_mm23_1","rhs":{"value":["dim","a",2]}},{"name":"dim_mm23_2","type":"expression_scalar","source":[30],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_mm23_2","rhs":{"value":["dim","a",3]}},{"name":"dim_v1","type":"expression_scalar","source":[20],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_v1","rhs":{"value":["dim","a",1]}},{"name":"dim_v2","type":"expression_scalar","source":[21],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_v2","rhs":{"value":["dim","a",2]}},{"name":"dim_v3","type":"expression_scalar","source":[22],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_v3","rhs":{"value":["dim","a",3]}},{"name":"dim_vv1","type":"expression_scalar","source":[35],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_vv1","rhs":{"value":["dim","a",1]}},{"name":"dim_vv2","type":"expression_scalar","source":[36],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_vv2","rhs":{"value":["dim","a",2]}},{"name":"dim_vv3","type":"expression_scalar","source":[37],"depends":{"functions":["dim"],"variables":["dim_a"]},"lhs":"dim_vv3","rhs":{"value":["dim","a",3]}},{"name":"initial_y","type":"expression_scalar","source":[2],"depends":null,"lhs":"initial_y","rhs":{"value":1}},{"name":"m12","type":"expression_array","source":[8],"depends":{"functions":["dim","odin_sum"],"variables":["dim_m12","a","i","j","dim_a","alloc_m12"]},"lhs":"m12","rhs":[{"index":[{"value":[":",1,["dim","m12",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","m12",2]],"is_range":true,"index":"j"}],"value":["odin_sum","a","i","i","j","j",1,["dim","a",3]]}]},{"name":"m13","type":"expression_array","source":[9],"depends":{"functions":["dim","odin_sum"],"variables":["dim_m13","a","i","dim_a","j","alloc_m13"]},"lhs":"m13","rhs":[{"index":[{"value":[":",1,["dim","m13",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","m13",2]],"is_range":true,"index":"j"}],"value":["odin_sum","a","i","i",1,["dim","a",2],"j","j"]}]},{"name":"m23","type":"expression_array","source":[10],"depends":{"functions":["dim","odin_sum"],"variables":["dim_m23","a","dim_a","i","j","alloc_m23"]},"lhs":"m23","rhs":[{"index":[{"value":[":",1,["dim","m23",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","m23",2]],"is_range":true,"index":"j"}],"value":["odin_sum","a",1,["dim","a",1],"i","i","j","j"]}]},{"name":"mm12","type":"expression_array","source":[24],"depends":{"functions":["dim","odin_sum"],"variables":["dim_mm12","a","i","j","alloc_mm12"]},"lhs":"mm12","rhs":[{"index":[{"value":[":",1,["dim","mm12",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","mm12",2]],"is_range":true,"index":"j"}],"value":["odin_sum","a","i","i","j","j",2,4]}]},{"name":"mm13","type":"expression_array","source":[25],"depends":{"functions":["dim","odin_sum"],"variables":["dim_mm13","a","i","j","alloc_mm13"]},"lhs":"mm13","rhs":[{"index":[{"value":[":",1,["dim","mm13",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","mm13",2]],"is_range":true,"index":"j"}],"value":["odin_sum","a","i","i",2,4,"j","j"]}]},{"name":"mm23","type":"expression_array","source":[26],"depends":{"functions":["dim","odin_sum"],"variables":["dim_mm23","a","i","j","alloc_mm23"]},"lhs":"mm23","rhs":[{"index":[{"value":[":",1,["dim","mm23",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","mm23",2]],"is_range":true,"index":"j"}],"value":["odin_sum","a",2,4,"i","i","j","j"]}]},{"name":"tot1","type":"expression_scalar","source":[39],"depends":{"functions":["sum"],"variables":["a"]},"lhs":"tot1","rhs":{"value":["sum","a"]}},{"name":"tot2","type":"expression_scalar","source":[40],"depends":{"functions":["odin_sum","dim"],"variables":["a","dim_a"]},"lhs":"tot2","rhs":{"value":["odin_sum","a",1,["dim","a",1],1,["dim","a",2],1,["dim","a",3]]}},{"name":"v1","type":"expression_array","source":[17],"depends":{"functions":["length","odin_sum","dim"],"variables":["dim_v1","a","i","dim_a","alloc_v1"]},"lhs":"v1","rhs":[{"index":[{"value":[":",1,["length","v1"]],"is_range":true,"index":"i"}],"value":["odin_sum","a","i","i",1,["dim","a",2],1,["dim","a",3]]}]},{"name":"v2","type":"expression_array","source":[18],"depends":{"functions":["length","odin_sum","dim"],"variables":["dim_v2","a","dim_a","i","alloc_v2"]},"lhs":"v2","rhs":[{"index":[{"value":[":",1,["length","v2"]],"is_range":true,"index":"i"}],"value":["odin_sum","a",1,["dim","a",1],"i","i",1,["dim","a",3]]}]},{"name":"v3","type":"expression_array","source":[19],"depends":{"functions":["length","odin_sum","dim"],"variables":["dim_v3","a","dim_a","i","alloc_v3"]},"lhs":"v3","rhs":[{"index":[{"value":[":",1,["length","v3"]],"is_range":true,"index":"i"}],"value":["odin_sum","a",1,["dim","a",1],1,["dim","a",2],"i","i"]}]},{"name":"vv1","type":"expression_array","source":[32],"depends":{"functions":["length","odin_sum"],"variables":["dim_vv1","a","i","alloc_vv1"]},"lhs":"vv1","rhs":[{"index":[{"value":[":",1,["length","vv1"]],"is_range":true,"index":"i"}],"value":["odin_sum","a","i","i",2,4,2,4]}]},{"name":"vv2","type":"expression_array","source":[33],"depends":{"functions":["length","odin_sum"],"variables":["dim_vv2","a","i","alloc_vv2"]},"lhs":"vv2","rhs":[{"index":[{"value":[":",1,["length","vv2"]],"is_range":true,"index":"i"}],"value":["odin_sum","a",2,4,"i","i",2,4]}]},{"name":"vv3","type":"expression_array","source":[34],"depends":{"functions":["length","odin_sum"],"variables":["dim_vv3","a","i","alloc_vv3"]},"lhs":"vv3","rhs":[{"index":[{"value":[":",1,["length","vv3"]],"is_range":true,"index":"i"}],"value":["odin_sum","a",2,4,2,4,"i","i"]}]}],"components":{"create":{"variables":[],"equations":["initial_y"]},"user":{"variables":[],"equations":["a","dim_a_12","dim_m12_1","dim_m12_2","dim_m12","alloc_m12","dim_m13_1","dim_m13_2","dim_m13","alloc_m13","dim_m23_1","dim_m23_2","dim_m23","alloc_m23","dim_mm12_1","dim_mm12_2","dim_mm12","alloc_mm12","dim_mm13_1","dim_mm13_2","dim_mm13","alloc_mm13","dim_mm23_1","dim_mm23_2","dim_mm23","alloc_mm23","dim_v1","alloc_v1","dim_v2","alloc_v2","dim_v3","alloc_v3","dim_vv1","alloc_vv1","dim_vv2","alloc_vv2","dim_vv3","alloc_vv3","m12","m13","m23","mm12","mm13","mm23","tot1","tot2","v1","v2","v3","vv1","vv2","vv3"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":[],"equations":["deriv_y"]},"output":{"variables":[],"equations":[]}},"user":[{"name":"a","has_default":false}],"interpolate":{"min":[],"max":[],"critical":[]},"source":["deriv(y) <- 0","initial(y) <- 1","","a[,,] <- user()","dim(a) <- user()","","## These collapse one dimension","m12[,] <- sum(a[i, j, ])","m13[,] <- sum(a[i, , j])","m23[,] <- sum(a[, i, j])","","dim(m12) <- c(dim(a, 1), dim(a, 2))","dim(m13) <- c(dim(a, 1), dim(a, 3))","dim(m23) <- c(dim(a, 2), dim(a, 3))","","## These collapse two dimensions","v1[] <- sum(a[i, , ])","v2[] <- sum(a[, i, ])","v3[] <- sum(a[, , i])","dim(v1) <- dim(a, 1)","dim(v2) <- dim(a, 2)","dim(v3) <- dim(a, 3)","","mm12[,] <- sum(a[i, j, 2:4])","mm13[,] <- sum(a[i, 2:4, j])","mm23[,] <- sum(a[2:4, i, j])","## TODO: dim(mm12) <- dim(m12) will not work, but that would be nice","dim(mm12) <- c(dim(a, 1), dim(a, 2))","dim(mm13) <- c(dim(a, 1), dim(a, 3))","dim(mm23) <- c(dim(a, 2), dim(a, 3))","","vv1[] <- sum(a[i, 2:4, 2:4])","vv2[] <- sum(a[2:4, i, 2:4])","vv3[] <- sum(a[2:4, 2:4, i])","dim(vv1) <- dim(a, 1)","dim(vv2) <- dim(a, 2)","dim(vv3) <- dim(a, 3)","","tot1 <- sum(a)","tot2 <- sum(a[,,])"]}
