{"version":"0.1.2","config":{"base":"odin"},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"discrete":false,"has_array":true,"has_output":true,"has_user":true,"has_delay":true,"has_interpolate":false,"has_stochastic":false,"initial_time_dependent":true},"data":{"elements":[{"name":"a","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_a","dim":null,"mult":null}},{"name":"alt","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_alt","dim":null,"mult":null}},{"name":"delay_index_tmp","location":"internal","storage_type":"int","rank":1,"dimnames":{"length":"dim_delay_tmp","dim":null,"mult":null}},{"name":"delay_state_tmp","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_delay_tmp","dim":null,"mult":null}},{"name":"dim_a","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_alt","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_delay_tmp","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_tmp","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"initial_a","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_a","dim":null,"mult":null}},{"name":"initial_t","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"tmp","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tmp","dim":null,"mult":null}}],"variable":{"length":"dim_a","contents":[{"name":"a","offset":0,"initial":"initial_a"}]},"output":{"length":"dim_tmp","contents":[{"name":"tmp","offset":0}]}},"equations":[{"name":"alloc_alt","type":"alloc","source":[5],"depends":{"functions":[],"variables":["dim_alt"]},"lhs":"alt"},{"name":"alloc_initial_a","type":"alloc","source":[3],"depends":{"functions":[],"variables":["dim_a"]},"lhs":"initial_a"},{"name":"alloc_tmp","type":"alloc","source":[7],"depends":{"functions":[],"variables":["dim_tmp"]},"lhs":"tmp"},{"name":"alt","type":"user","source":[4],"depends":{"functions":["length"],"variables":["dim_alt","alloc_alt"]},"lhs":"alt","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"delay_index_tmp","type":"delay_index","source":[6],"depends":{"functions":[],"variables":["dim_delay_tmp"]},"lhs":"delay_index_tmp","delay":"tmp"},{"name":"deriv_a","type":"expression_array","source":[1],"depends":{"functions":["length"],"variables":["dim_a","i"]},"lhs":"a","rhs":[{"index":[{"value":[":",1,["length","a"]],"is_range":true,"index":"i"}],"value":"i"}]},{"name":"dim_a","type":"expression_scalar","source":[3],"depends":null,"lhs":"dim_a","rhs":{"value":5}},{"name":"dim_alt","type":"expression_scalar","source":[5],"depends":{"functions":["length"],"variables":["dim_a"]},"lhs":"dim_alt","rhs":{"value":["length","a"]}},{"name":"dim_delay_tmp","type":"expression_scalar","source":[6],"depends":{"functions":[],"variables":["dim_a"]},"lhs":"dim_delay_tmp","rhs":{"value":"dim_a"}},{"name":"dim_tmp","type":"expression_scalar","source":[7],"depends":{"functions":["length"],"variables":["dim_a"]},"lhs":"dim_tmp","rhs":{"value":["length","a"]}},{"name":"initial_a","type":"expression_array","source":[2],"depends":{"functions":["length","/","(","-"],"variables":["dim_a","i","alloc_initial_a"]},"lhs":"initial_a","rhs":[{"index":[{"value":[":",1,["length","a"]],"is_range":true,"index":"i"}],"value":["/",["(",["-","i",1]],10]}]},{"name":"output_tmp","type":"copy","source":[8],"depends":{"functions":[],"variables":["tmp"]},"lhs":"tmp"},{"name":"tmp","type":"delay_continuous","source":[6],"depends":{"functions":["length","["],"variables":["dim_tmp","alt","i","alloc_tmp","dim_delay_tmp"]},"lhs":"tmp","rhs":{"value":["[","a","i"],"index":[{"value":[":",1,["length","tmp"]],"is_range":true,"index":"i"}]},"delay":{"state":"delay_state_tmp","index":"delay_index_tmp","substitutions":[],"variables":{"length":"dim_delay_tmp","contents":[{"name":"a","offset":0}]},"equations":[],"default":["[","alt","i"],"time":2}}],"components":{"create":{"variables":[],"equations":["dim_a","alloc_initial_a","dim_alt","alloc_alt","dim_delay_tmp","delay_index_tmp","dim_tmp","alloc_tmp","initial_a"]},"user":{"variables":[],"equations":["alt"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":[],"equations":["deriv_a"]},"output":{"variables":[],"equations":["tmp","output_tmp"]}},"user":[{"name":"alt","has_default":false}],"interpolate":{"min":[],"max":[],"critical":[]},"source":["deriv(a[]) <- i","initial(a[]) <- (i - 1) / 10","dim(a) <- 5","alt[] <- user()","dim(alt) <- length(a)","tmp[] <- delay(a[i], 2, alt[i])","dim(tmp) <- length(a)","output(tmp[]) <- TRUE"]}
